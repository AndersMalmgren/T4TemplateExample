(function(r,i){if(r.ko===undefined||i.version<"3.0"){throw"This library is dependant on Knockout 3.0+";}String.prototype.endsWith=String.prototype.endsWith?String.prototype.endsWith:function(s){return this.indexOf(s,this.length-s.length)!==-1;};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"");};var c={roots:[r],excludeConstructorNames:["Class"]};var n=false;i.bindingConventions={init:function(s){n=false;i.utils.extend(c,s);},conventionBinders:{}};i.bindingConventions.ConventionBindingProvider=function(){this.orgBindingProvider=i.bindingProvider.instance||new i.bindingProvider();this.orgNodeHasBindings=this.orgBindingProvider.nodeHasBindings;this.attribute="data-name";this.virtualAttribute="ko name:";};i.bindingConventions.ConventionBindingProvider.prototype={getMemberName:function(u){var t=null;if(u.nodeType===1){t=u.getAttribute(this.attribute);}else{if(u.nodeType===8){var v=""+u.nodeValue||u.text;var s=v.indexOf(this.virtualAttribute);if(s>-1){t=v.substring(s+this.virtualAttribute.length).trim();}}}return t;},nodeHasBindings:function(s){return this.orgNodeHasBindings(s)||this.getMemberName(s)!==null;},getBindingAccessors:function(u,s){var t=this.getMemberName(u);var v=(t!=null&&u.nodeType===8)?null:this.orgBindingProvider.getBindingAccessors(u,s);if(t!=null){v=v||{};p(t,u,s,v);}return v;}};i.bindingProvider.instance=new i.bindingConventions.ConventionBindingProvider();var e=function(u,s){var w=u.split(".");for(var t=0;t<w.length;t++){var v=w[t];var x=s[v];if(t!=w.length-1){x=i.utils.unwrapObservable(x);}else{return{data:x,context:s,name:v};}s=x;}return s;};var p=function(B,z,s,t){var w=s[B]?s[B]:s.$data[B];var u=s.$data;if(w===undefined){var C=e(B,u);w=C.data;s={$data:C.context};B=C.name;}if(w===undefined){throw"Can't resolve member: "+B;}var x=function(){return w;};var F=i.utils.peekObservable(w);var E=typeof F;var v=z.__bindingConvention;if(v===undefined){for(var A in i.bindingConventions.conventionBinders){if(i.bindingConventions.conventionBinders[A].rules!==undefined){v=i.bindingConventions.conventionBinders[A];var D=true;if(F==null&&v.deferredApplyIfDataNotSet===true){continue;}if(v.rules.length==1){D=v.rules[0](B,z,t,F,E,w,s);}else{b(v.rules,function(G){D=D&&G(B,z,t,F,E,w,s);});}if(D){z.__bindingConvention=v;break;}}}}if(z.__bindingConvention===undefined&&F!=null){throw"No convention was found for "+B;}if(z.__bindingConvention!==undefined){z.__bindingConvention.apply(B,z,t,F,E,x,s);}else{if(F==null&&i.isObservable(w)){var y=w.subscribe(function(H){if(H!=null){y.dispose();var G={};p(B,z,s,G);i.applyBindingAccessorsToNode(z,G,s);}});}}};i.bindingConventions.conventionBinders.button={rules:[function(u,t,s,w,v){return t.tagName==="BUTTON"&&v==="function";}],apply:function(w,v,t,y,x,u,s){t.click=u;o(t,"enable","can"+g(w),s);}};i.bindingConventions.conventionBinders.options={rules:[function(u,t,s,v){return t.tagName==="SELECT"&&v.push;}],apply:function(x,w,u,D,C,v,s){u.options=v;var A=false;var t=null;var z=null;var B=null;q(x,function(F){var E=g(F);t="value";B="selected"+E;z=o(u,t,B,s);if(z){o(u,"enable","canChangeSelected"+E,s);A=true;return true;}});if(!A){var y=g(x);t="selectedOptions";B="selected"+y;z=o(u,t,B,s);o(u,"enable","canChangeSelected"+y,s);}a(u,t,z,B,s);}};i.bindingConventions.conventionBinders.input={rules:[function(t,s){return s.tagName==="INPUT"||s.tagName==="TEXTAREA";}],apply:function(x,w,u,z,y,v,s){var t=null;if(y==="boolean"){if(i.utils.ieVersion===undefined){w.setAttribute("type","checkbox");}t="checked";}else{t="value";}u[t]=v;a(u,t,v,x,s);o(u,"enable","canChange"+g(x),s);}};i.bindingConventions.conventionBinders.visible={rules:[function(u,t,s,w,v){return v==="boolean"&&t.tagName!=="INPUT";}],apply:function(v,u,s,x,w,t){s.visible=t;}};i.bindingConventions.conventionBinders.text={rules:[function(u,t,s,w,v){return v!=="object"&&v!=="boolean"&&t.tagName!=="IMG"&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!j(t);}],apply:function(v,u,s,x,w,t){s.text=t;},deferredApplyIfDataNotSet:true};i.bindingConventions.conventionBinders["with"]={rules:[function(u,t,s,w,v){return(v==="object"||w===undefined)&&(w==null||w.push===undefined)&&j(t);}],apply:function(v,u,s,x,w,t){s["with"]=t;}};i.bindingConventions.conventionBinders.foreach={rules:[function(u,t,s,v){return v&&v.push&&j(t);}],apply:function(v,u,s,x,w,t){s.foreach=t;}};i.bindingConventions.conventionBinders.template={rules:[function(u,t,s,w,v){return v==="object"&&!j(t);}],apply:function(v,u,s,x,w,t){s.template=function(){var y=i.unwrap(t());var B=y!=null&&y.push!==undefined;var C=y==null||(B&&y.length==0);var E=null;if(!C){var A=y?d(B?y[0]:y):undefined;var D="Model";if(A!=null&&A.endsWith(D)){E=A.substring(0,A.length-D.length);if(!E.endsWith("View")){E=E+"View";}}if(E==null){throw"View name could not be found";}}var z={name:E,"if":y};if(B){z.foreach=y;}else{z.data=y;}return z;};},deferredApplyIfDataNotSet:true};i.bindingConventions.conventionBinders.image={rules:[function(u,t,s,w,v){return v==="string"&&t.tagName==="IMG";}],apply:function(v,u,s,x,w,t){s.attr=function(){return{src:t()};};},deferredApplyIfDataNotSet:true};var o=function(u,t,v,s){if(s.$data[v]!==undefined){return(u[t]=function(){return s.$data[v];});}};var g=function(s){return s.substring(0,1).toUpperCase()+s.substring(1);};var l=[{end:"ies",use:"y"},"es","s"];var q=function(t,s){var u=null;b(l,function(w){var v=w.use;w=w.end||w;if(t.endsWith(w)){u=t.substring(0,t.length-w.length);u=u+(v||"");if(s){return !s(u);}return true;}return true;});return u;};var b=function(t,s){for(var u=0;u<t.length;u++){var v=s(t[u]);if(v===false){break;}}};var j=function(s){if(s.__nodeHasContent!==undefined){return s.__nodeHasContent;}return s.__nodeHasContent=(s.nodeType===s.COMMENT_NODE&&(s.nextSibling.nodeType===s.ELEMENT_NODE||h(s)))||(s.nodeType===s.ELEMENT_NODE&&s.innerHTML.trim()!=="");};var h=function(s){if(s.nextSibling.nodeType===s.COMMENT_NODE&&s.nextSibling.textContent.indexOf("/ko")>-1){return false;}if(s.nextSibling.nodeType===s.nextSibling.ELEMENT_NODE||s.nextSibling.textContent.trim()!==""){return true;}return h(s.nextSibling);};var a=function(v,u,s,w,t){if(!i.isObservable(s())){f(v)[u]=function(x){t.$data[w]=x;};}};var f=function(s){var t=null;if(s._ko_property_writers===undefined){t={};s._ko_property_writers=function(){return t;};}return t;};var m=function(){var s=[];var t=function(w){if(w==null||w.__fcnChecked||w===r){return;}w.__fcnChecked=true;if(w.__fcnChecked===undefined){return;}s.push(w);for(var u in w){var v=w[u];if(v!==undefined&&u.endsWith("Model")&&typeof v==="function"){v.__fcnName=u;}t(v);}};b(c.roots,function(u){t(u);});b(s,function(u){delete u.__fcnChecked;});};var d=function(A,x){var s=x?A:A.constructor;if(s.__fcnName!==undefined){return s.__fcnName;}var v=/function (.{1,})\(/;var B=(v).exec(s.toString());var y=(B&&B.length>1)?B[1]:undefined;var w;var t=false;b(c.excludeConstructorNames,function(C){if(C===y){t=true;return false;}return true;});if(y===undefined||t){var u=[];var z=function(F){if(F==null||F===r.document||F===r.html||F===r.history||F===r.frameElement||typeof F==="function"||F.__fcnChecked===true||(F.location&&F.location!=r.location)){return;}try{F.__fcnChecked=true;}catch(C){return;}if(F.__fcnChecked===undefined){return;}u.push(F);for(w in F){var E=F[w];if(E===s){return w;}var D=z(E);if(D!==undefined){return D;}}};b(c.roots,function(C){y=z(C);if(y!==undefined){return false;}return true;});for(w in u){delete u[w].__fcnChecked;}}s.__fcnName=y;return y;};var k=i.applyBindings;i.applyBindings=function(t,s){if(n===false){m();n=true;}k(t,s);};i.bindingConventions.utils={findConstructorName:d,singularize:q,getPascalCased:g,nodeHasContent:j,setBinding:o};})(window,ko);